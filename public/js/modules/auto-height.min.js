define(["ScreenTest"],function(t){"use strict";var i=function(t){this.o$Container=$(t),this.aChildDomArr=h($(t)),this.bEnble=!1,this.update(),this.maxHeight=640};i.prototype.update=function(){if(!t.screen.bIsDesktopMode)return this.reset(),void(this.bEnble=!1);this.bEnble=!0;var i,h=this.o$Container,s=this.aChildDomArr,r=h.data("mdheight");if(r)i=r;else{var a=n(s,this.maxHeight);i=e(a)}h.css("height",i),$.each(s,function(){$(this).css("height",i)})},i.prototype.reset=function(){this.bEnble&&(this.o$Container.css("height","auto"),$.each(this.aChildDomArr,function(){$(this).css("height","auto")}))};var e=function(t){return Math.max.apply(null,t)},h=function(t){var i=[],e=t.data("child"),h=e.split("|");return $.each(h,function(e,h){var n=t.find(h);n.length>1?n.each(function(){i.push($(this))}):i.push(n)}),i.push(t),i},n=function(t,i){var e=[];return $.each(t,function(){var t=$(this).innerHeight();t>=i&&(t=i,$(this).addClass("scrollable")),e.push(t)}),e};return i});